# HTTP headers

Tags: web-requests
Category: Articles
Company: general
Status: Reading
URL: https://levelup.gitconnected.com/i-spent-a-week-studying-http-headers-heres-what-i-learnt-8eea6516f77e

An HTTP headers consists of a case-insensitive name followed by a colon, and then by its value. Whitespaces before the header value is ignored! And, a single HTTP request can have more than one HTTP headers as well.

![https://miro.medium.com/v2/resize:fit:1400/1*SmytYHDhjPRuVorxAnpx1Q.png](https://miro.medium.com/v2/resize:fit:1400/1*SmytYHDhjPRuVorxAnpx1Q.png)

While headers might seem invisible to end-users who primarily interact with the payload (the actual content), they play a crucial role in web applications. For us, the developers, understanding these headers is essential for several reasons:

- *Modern browsers rely heavily on these headers to determine how to process and display server responses. For instance, cache-control headers dictate whether to fetch fresh content or use cached data, while content-type headers tell browsers how to interpret the received data.*
- *Servers make critical decisions based on request headers. Authentication tokens, client capabilities, and preferred content formats — all transmitted through headers — can significantly influence how a server handles each request.*
- *Headers consume bandwidth. Each additional header increases the size of HTTP messages, impacting network performance. Unnecessary headers can accumulate to create noticeable delays, especially on slower networks or when dealing with high-volume traffic.*

# **HTTP Response Structure**

The HTTP response received from the server looks something like the following.

![https://miro.medium.com/v2/resize:fit:1400/1*CcIpOnmrKt7lGR0oi9VNhg.png](https://miro.medium.com/v2/resize:fit:1400/1*CcIpOnmrKt7lGR0oi9VNhg.png)

You will notice that the response line shows the HTTP version used and the status code to indicate the outcome of the request.

Below the response line is a bunch of headers that are followed by the actual payload of the HTTP request.

## **HTTP Status Codes**

Different status code values convey different meanings, and most servers today adhere to the following conventions ~

- 2xx are used for successful requests
- 3xx are for redirections
- 4xx are used if there is some problem with the request
- 5xx are used if there is some problem with the server handling the request

A complete list of all the HTTP codes can be found on [Wikipedia](https://en.wikipedia.org/wiki/List_of_HTTP_status_codes).

# **Headers in HTTP Requests**

Let’s explore some common headers you’ll encounter in an HTTP request and discuss their significance.

## [**Host**](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Host)

The `Host` request header specifies the host and port number of the server to which the request is being sent. If no port is included, the default port for the service requested is implied (e.g., `443` for an HTTPS URL, and `80` for an HTTP URL).

```
Host: medium.com
```

## [**User-Agent**](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/User-Agent)

The `User-Agent` request header is a characteristic string that lets servers identify the application, operating system, vendor, and/or version of the requesting client.

```
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36
```

Using the `User-Agent` header, web-servers can collect general information about the requesting client and serve them accordingly.

## [**Accept-Language**](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Language)

The `Accept-Language` header conveys the default language settings for a user. If a web-server supports different language versions for a web-page, it can redirect the client based on this header.

```
Accept-Language:en-GB,en-US;q=0.9,en;q=0.8
```

It can carry multiple languages, separated by commas. The first one is the preferred language, and each other listed language can carry a `q` value, which is an estimate of the user's preference for the language on a scale of 0 to 1.

## [**Accept-Encoding**](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept-Encoding)

The `Accept-Encoding` header indicates the content encoding (usually a compression algorithm) that the client can understand.

```
Accept-Encoding: gzip, deflate, br, zstd
```

Most modern browsers support gzip and will send this in the header. The web server then can send the HTML output in a compressed format. This can reduce the size by up to 80% to save bandwidth and time.

## [**If-Modified-Since**](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Modified-Since)

The `If-Modified-Since` request HTTP header makes the request conditional: the server sends back the requested resource, with a [`200`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/200) status, only if it has been last modified after the given date. If the resource has not been modified since, the response is a [`304`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/304) without any body.

```
If-Modified-Since: Sat, 28 Sep 2024 03:21:52 GMT
```

## [**Cookie**](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cookie)

The `Cookie` header sends the cookies stored in your browser for that domain.

```
Cookie: PHPSESSID=298zf09hf012fh2; csrftoken=u32t4o3tb3gg43; _gat=1
```

These are name=value pairs separated by semicolons. Cookies can also contain the session id.

## [**Referer**](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer)

The `Referer` header allows a server to identify referring pages that people are visiting from or where requested resources are being used. This data can be used for analytics, logging, optimised caching, and more.

```
Referer: <url>
```

## [**Authorization**](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization)

The HTTP `Authorization` request header can be used to provide credentials that authenticate a client with a server, allowing access to protected resources.

When a web page asks for authorization, the browser opens a login window. When you enter a username and password in this window, the browser sends another HTTP request, but this time it contains this header.

```
// Bearer
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

// Basic
Authorization: Basic base64(username:password)

// API Key
Authorization: ApiKey your-api-key
```

# **Headers in HTTP Response**

Let us now shift our attention to some common headers in an HTTP response.

## [**Cache Control**](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control)

The `Cache-Control` HTTP header controls the browser caching behaviour. When someone visits a website, their browser will save certain resources, such as images and website data, in a store called the cache. When that user revisits the same website, cache-control sets the rules which determine whether that user will have those resources loaded from their local cache, or whether the browser will have to send a request to the server for fresh resources.

```
Cache-Control: max-age=3600, public
```

Caching can also be prevented by using the `no-cache` directive.

```
Cache-Control: no-cache
```

## [**Content Type**](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type)

The `Content-Type` header is used to indicate the media type of the responded payload. For example, if the HTTP response contains an HTML file, the `Content-Type` header will have the following value.

```
Content-Type: text/html; charset=UTF-8
```

Browser uses the `Content-Type` header to decide how to interpret the payload data.

## [**Content Disposition**](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition)

The `Content-Disposition` header is important for controlling how browser handles file downloads initiated by a web-server. It provides information about the file being downloaded, influencing whether the browser displays it inline or offers it as a download.

```
Content-Disposition: attachment; filename="download.zip"
```

A value of `inline` for `Content-Disposition` will instruct the browser to display the file inside the browser instead of downloading it.

## [**Content-Length**](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Length)

The HTTP `Content-Length` header indicates the size, in bytes, of the message body sent to the recipient.

```
Content-Length: 89123
```

This is especially useful for file downloads. That’s how the browser can determine the progress of the download.

## [**Location**](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Location)

The `Location` header is used during re-directions. When the server responds with a 301 or 302 status, the browser will consult the `Location` header to decide the re-direction.

```
Location: /index.html
```

## [**Set-Cookie**](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie)

When a web-server wants to store certain data on the browser, it sends an HTTP request with `Set-Cookie` header included. This small amount of data is called cookie and is kept in browser’s storage. All the subsequent requests to the web-server will then contain these cookies in header.

```
Set-Cookie: sessionId=38afes7a8
```

If the expiration date is not specified, the cookie is deleted when the browser window is closed.